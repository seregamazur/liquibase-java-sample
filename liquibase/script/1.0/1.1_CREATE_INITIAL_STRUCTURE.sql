CREATE SCHEMA DEVELOP;

create table DEVELOP.CUSTOMER
(
    ID    SERIAL PRIMARY KEY,
    NAME       VARCHAR(60) NOT NULL,
    SURNAME    VARCHAR(80) NOT NULL
);

create table DEVELOP.UNIT
(
    ID    SERIAL PRIMARY KEY,
    NAME    VARCHAR(100) NOT NULL
    );

create table DEVELOP.PRODUCT
(
    ID    SERIAL PRIMARY KEY,
    NAME    VARCHAR(255) NOT NULL,
    UNIT    SERIAL NOT NULL,
    FOREIGN KEY (UNIT) REFERENCES DEVELOP.UNIT (ID));

create table DEVELOP.ORDER
(
    ID    SERIAL PRIMARY KEY,
    DATE    VARCHAR(255) NOT NULL,
    CUSTOMER_ID    SERIAL NOT NULL,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES DEVELOP.CUSTOMER (ID));

create table DEVELOP.ORDER_JUNCTION
(
    ORDER_ID    SERIAL NOT NULL,
    PRODUCT_ID    SERIAL NOT NULL,
    QUANTITY    INTEGER NOT NULL,
    PRIMARY KEY (ORDER_ID, PRODUCT_ID),
    FOREIGN KEY (ORDER_ID) REFERENCES DEVELOP.ORDER (ID),
    FOREIGN KEY (PRODUCT_ID) REFERENCES DEVELOP.PRODUCT (ID)
    );

INSERT INTO DEVELOP.UNIT VALUES (1, 'ITEM');
INSERT INTO DEVELOP.UNIT VALUES (2, 'KILOGRAM');
INSERT INTO DEVELOP.UNIT VALUES (3, 'HOUR');
INSERT INTO DEVELOP.UNIT VALUES (4, 'SET');

INSERT INTO DEVELOP.CUSTOMER VALUES (1, 'John', 'Takeoff');
INSERT INTO DEVELOP.CUSTOMER VALUES (2, 'Jean', 'Takeoff');
INSERT INTO DEVELOP.CUSTOMER VALUES (3, 'Oli', 'Takeoff');

INSERT INTO DEVELOP.PRODUCT VALUES (1, 'SAUSAGE', 1);
INSERT INTO DEVELOP.PRODUCT VALUES (2, 'MOUSE', 1);
INSERT INTO DEVELOP.PRODUCT VALUES (3, 'CAKE', 1);
INSERT INTO DEVELOP.PRODUCT VALUES (4, 'COFFEE', 2);
INSERT INTO DEVELOP.PRODUCT VALUES (5, 'BREAD', 1);
INSERT INTO DEVELOP.PRODUCT VALUES (6, 'OLIVE OIL 900 ml', 1);
INSERT INTO DEVELOP.PRODUCT VALUES (7, 'EGGS', 4);

INSERT INTO DEVELOP.ORDER VALUES (1, '2020-12-20T10:15:30', 1);
INSERT INTO DEVELOP.ORDER VALUES (2, '2020-12-20T12:14:21', 2);
INSERT INTO DEVELOP.ORDER VALUES (3, '2020-12-20T11:50:19', 3);

INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (1, 1, 20);
INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (1, 3, 1);
INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (1, 4, 2);
INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (2, 1, 2);
INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (2, 3, 2);
INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (3, 3, 1);
INSERT INTO DEVELOP.ORDER_JUNCTION VALUES (3, 4, 1);


